var ve=s=>{throw TypeError(s)};var Wt=(s,t,e)=>t.has(s)||ve("Cannot "+e);var r=(s,t,e)=>(Wt(s,t,"read from private field"),e?e.call(s):t.get(s)),l=(s,t,e)=>t.has(s)?ve("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),h=(s,t,e,i)=>(Wt(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),p=(s,t,e)=>(Wt(s,t,"access private method"),e);var Gt=(s,t,e,i)=>({set _(n){h(s,t,n,e)},get _(){return r(s,t,i)}});import{a as Te,u as es,h as ss,i as is,r as rs,n as ns,c as xe,s as Ke,w as Ct,o as Le,t as ke}from"./@vue-O2P8gYLh.js";var Tt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vt=typeof window>"u"||"Deno"in globalThis;function k(){}function as(s,t){return typeof s=="function"?s(t):s}function Jt(s){return typeof s=="number"&&s>=0&&s!==1/0}function He(s,t){return Math.max(s+(t||0)-Date.now(),0)}function wt(s,t){return typeof s=="function"?s(t):s}function G(s,t){return typeof s=="function"?s(t):s}function be(s,t){const{type:e="all",exact:i,fetchStatus:n,predicate:a,queryKey:u,stale:o}=s;if(u){if(i){if(t.queryHash!==de(u,t.options))return!1}else if(!Kt(t.queryKey,u))return!1}if(e!=="all"){const y=t.isActive();if(e==="active"&&!y||e==="inactive"&&y)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||a&&!a(t))}function ge(s,t){const{exact:e,status:i,predicate:n,mutationKey:a}=s;if(a){if(!t.options.mutationKey)return!1;if(e){if(bt(t.options.mutationKey)!==bt(a))return!1}else if(!Kt(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function de(s,t){return((t==null?void 0:t.queryKeyHashFn)||bt)(s)}function bt(s){return JSON.stringify(s,(t,e)=>Xt(e)?Object.keys(e).sort().reduce((i,n)=>(i[n]=e[n],i),{}):e)}function Kt(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!Kt(s[e],t[e])):!1}function _e(s,t){if(s===t)return s;const e=Oe(s)&&Oe(t);if(e||Xt(s)&&Xt(t)){const i=e?s:Object.keys(s),n=i.length,a=e?t:Object.keys(t),u=a.length,o=e?[]:{};let y=0;for(let w=0;w<u;w++){const f=e?w:a[w];(!e&&i.includes(f)||e)&&s[f]===void 0&&t[f]===void 0?(o[f]=void 0,y++):(o[f]=_e(s[f],t[f]),o[f]===s[f]&&s[f]!==void 0&&y++)}return n===u&&y===n?s:o}return t}function Vt(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(s[e]!==t[e])return!1;return!0}function Oe(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Xt(s){if(!Ce(s))return!1;const t=s.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Ce(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Ce(s){return Object.prototype.toString.call(s)==="[object Object]"}function us(s){return new Promise(t=>{setTimeout(t,s)})}function Zt(s,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(s,t):e.structuralSharing!==!1?_e(s,t):t}function os(s,t,e=0){const i=[...s,t];return e&&i.length>e?i.slice(1):i}function hs(s,t,e=0){const i=[t,...s];return e&&i.length>e?i.slice(0,-1):i}var ye=Symbol();function Ne(s,t){return!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===ye?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var ht,tt,Qt,Re,cs=(Re=class extends Tt{constructor(){super();l(this,ht);l(this,tt);l(this,Qt);h(this,Qt,t=>{if(!vt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){r(this,tt)||this.setEventListener(r(this,Qt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,tt))==null||t.call(this),h(this,tt,void 0))}setEventListener(t){var e;h(this,Qt,t),(e=r(this,tt))==null||e.call(this),h(this,tt,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){r(this,ht)!==t&&(h(this,ht,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof r(this,ht)=="boolean"?r(this,ht):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ht=new WeakMap,tt=new WeakMap,Qt=new WeakMap,Re),pe=new cs,St,et,Pt,Fe,ls=(Fe=class extends Tt{constructor(){super();l(this,St,!0);l(this,et);l(this,Pt);h(this,Pt,t=>{if(!vt&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){r(this,et)||this.setEventListener(r(this,Pt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,et))==null||t.call(this),h(this,et,void 0))}setEventListener(t){var e;h(this,Pt,t),(e=r(this,et))==null||e.call(this),h(this,et,t(this.setOnline.bind(this)))}setOnline(t){r(this,St)!==t&&(h(this,St,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return r(this,St)}},St=new WeakMap,et=new WeakMap,Pt=new WeakMap,Fe),zt=new ls;function te(){let s,t;const e=new Promise((n,a)=>{s=n,t=a});e.status="pending",e.catch(()=>{});function i(n){Object.assign(e,n),delete e.resolve,delete e.reject}return e.resolve=n=>{i({status:"fulfilled",value:n}),s(n)},e.reject=n=>{i({status:"rejected",reason:n}),t(n)},e}function fs(s){return Math.min(1e3*2**s,3e4)}function Ge(s){return(s??"online")==="online"?zt.isOnline():!0}var $e=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Yt(s){return s instanceof $e}function Be(s){let t=!1,e=0,i=!1,n;const a=te(),u=m=>{var g;i||(O(new $e(m)),(g=s.abort)==null||g.call(s))},o=()=>{t=!0},y=()=>{t=!1},w=()=>pe.isFocused()&&(s.networkMode==="always"||zt.isOnline())&&s.canRun(),f=()=>Ge(s.networkMode)&&s.canRun(),c=m=>{var g;i||(i=!0,(g=s.onSuccess)==null||g.call(s,m),n==null||n(),a.resolve(m))},O=m=>{var g;i||(i=!0,(g=s.onError)==null||g.call(s,m),n==null||n(),a.reject(m))},d=()=>new Promise(m=>{var g;n=F=>{(i||w())&&m(F)},(g=s.onPause)==null||g.call(s)}).then(()=>{var m;n=void 0,i||(m=s.onContinue)==null||m.call(s)}),Q=()=>{if(i)return;let m;const g=e===0?s.initialPromise:void 0;try{m=g??s.fn()}catch(F){m=Promise.reject(F)}Promise.resolve(m).then(c).catch(F=>{var H;if(i)return;const E=s.retry??(vt?0:3),P=s.retryDelay??fs,A=typeof P=="function"?P(e,F):P,K=E===!0||typeof E=="number"&&e<E||typeof E=="function"&&E(e,F);if(t||!K){O(F);return}e++,(H=s.onFail)==null||H.call(s,e,F),us(A).then(()=>w()?void 0:d()).then(()=>{t?O(F):Q()})})};return{promise:a,cancel:u,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:y,canStart:f,start:()=>(f()?Q():d().then(Q),a)}}function ds(){let s=[],t=0,e=o=>{o()},i=o=>{o()},n=o=>setTimeout(o,0);const a=o=>{t?s.push(o):n(()=>{e(o)})},u=()=>{const o=s;s=[],o.length&&n(()=>{i(()=>{o.forEach(y=>{e(y)})})})};return{batch:o=>{let y;t++;try{y=o()}finally{t--,t||u()}return y},batchCalls:o=>(...y)=>{a(()=>{o(...y)})},schedule:a,setNotifyFunction:o=>{e=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{n=o}}}var M=ds(),ct,De,Ve=(De=class{constructor(){l(this,ct)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jt(this.gcTime)&&h(this,ct,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(vt?1/0:5*60*1e3))}clearGcTimeout(){r(this,ct)&&(clearTimeout(r(this,ct)),h(this,ct,void 0))}},ct=new WeakMap,De),Rt,Ft,L,lt,U,Lt,ft,_,W,Ee,ys=(Ee=class extends Ve{constructor(t){super();l(this,_);l(this,Rt);l(this,Ft);l(this,L);l(this,lt);l(this,U);l(this,Lt);l(this,ft);h(this,ft,!1),h(this,Lt,t.defaultOptions),this.setOptions(t.options),this.observers=[],h(this,lt,t.client),h(this,L,r(this,lt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,h(this,Rt,ps(this.options)),this.state=t.state??r(this,Rt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=r(this,U))==null?void 0:t.promise}setOptions(t){this.options={...r(this,Lt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,L).remove(this)}setData(t,e){const i=Zt(this.state.data,t,this.options);return p(this,_,W).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){p(this,_,W).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,n;const e=(i=r(this,U))==null?void 0:i.promise;return(n=r(this,U))==null||n.cancel(t),e?e.then(k).catch(k):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,Rt))}isActive(){return this.observers.some(t=>G(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ye||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!He(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,U))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,U))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),r(this,L).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(r(this,U)&&(r(this,ft)?r(this,U).cancel({revert:!0}):r(this,U).cancelRetry()),this.scheduleGc()),r(this,L).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||p(this,_,W).call(this,{type:"invalidate"})}fetch(t,e){var y,w,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(r(this,U))return r(this,U).continueRetry(),r(this,U).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(O=>O.options.queryFn);c&&this.setOptions(c.options)}const i=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(h(this,ft,!0),i.signal)})},a=()=>{const c=Ne(this.options,e),O={client:r(this,lt),queryKey:this.queryKey,meta:this.meta};return n(O),h(this,ft,!1),this.options.persister?this.options.persister(c,O,this):c(O)},u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:r(this,lt),state:this.state,fetchFn:a};n(u),(y=this.options.behavior)==null||y.onFetch(u,this),h(this,Ft,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=u.fetchOptions)==null?void 0:w.meta))&&p(this,_,W).call(this,{type:"fetch",meta:(f=u.fetchOptions)==null?void 0:f.meta});const o=c=>{var O,d,Q,m;Yt(c)&&c.silent||p(this,_,W).call(this,{type:"error",error:c}),Yt(c)||((d=(O=r(this,L).config).onError)==null||d.call(O,c,this),(m=(Q=r(this,L).config).onSettled)==null||m.call(Q,this.state.data,c,this)),this.scheduleGc()};return h(this,U,Be({initialPromise:e==null?void 0:e.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:c=>{var O,d,Q,m;if(c===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(g){o(g);return}(d=(O=r(this,L).config).onSuccess)==null||d.call(O,c,this),(m=(Q=r(this,L).config).onSettled)==null||m.call(Q,c,this.state.error,this),this.scheduleGc()},onError:o,onFail:(c,O)=>{p(this,_,W).call(this,{type:"failed",failureCount:c,error:O})},onPause:()=>{p(this,_,W).call(this,{type:"pause"})},onContinue:()=>{p(this,_,W).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),r(this,U).start()}},Rt=new WeakMap,Ft=new WeakMap,L=new WeakMap,lt=new WeakMap,U=new WeakMap,Lt=new WeakMap,ft=new WeakMap,_=new WeakSet,W=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ze(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Yt(n)&&n.revert&&r(this,Ft)?{...r(this,Ft),fetchStatus:"idle"}:{...i,error:n,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),M.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),r(this,L).notify({query:this,type:"updated",action:t})})},Ee);function ze(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ge(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function ps(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,e=t!==void 0,i=e?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var $,Me,We=(Me=class extends Tt{constructor(e={}){super();l(this,$);this.config=e,h(this,$,new Map)}build(e,i,n){const a=i.queryKey,u=i.queryHash??de(a,i);let o=this.get(u);return o||(o=new ys({client:e,queryKey:a,queryHash:u,options:e.defaultQueryOptions(i),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){r(this,$).has(e.queryHash)||(r(this,$).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=r(this,$).get(e.queryHash);i&&(e.destroy(),i===e&&r(this,$).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){M.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,$).get(e)}getAll(){return[...r(this,$).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(n=>be(i,n))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(n=>be(e,n)):i}notify(e){M.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){M.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){M.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$=new WeakMap,Me),B,I,dt,V,Z,Ae,ms=(Ae=class extends Ve{constructor(t){super();l(this,V);l(this,B);l(this,I);l(this,dt);this.mutationId=t.mutationId,h(this,I,t.mutationCache),h(this,B,[]),this.state=t.state||Ye(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){r(this,B).includes(t)||(r(this,B).push(t),this.clearGcTimeout(),r(this,I).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){h(this,B,r(this,B).filter(e=>e!==t)),this.scheduleGc(),r(this,I).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){r(this,B).length||(this.state.status==="pending"?this.scheduleGc():r(this,I).remove(this))}continue(){var t;return((t=r(this,dt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,a,u,o,y,w,f,c,O,d,Q,m,g,F,E,P,A,K,H,q;h(this,dt,Be({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,S)=>{p(this,V,Z).call(this,{type:"failed",failureCount:D,error:S})},onPause:()=>{p(this,V,Z).call(this,{type:"pause"})},onContinue:()=>{p(this,V,Z).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,I).canRun(this)}));const e=this.state.status==="pending",i=!r(this,dt).canStart();try{if(!e){p(this,V,Z).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(n=r(this,I).config).onMutate)==null?void 0:a.call(n,t,this));const S=await((o=(u=this.options).onMutate)==null?void 0:o.call(u,t));S!==this.state.context&&p(this,V,Z).call(this,{type:"pending",context:S,variables:t,isPaused:i})}const D=await r(this,dt).start();return await((w=(y=r(this,I).config).onSuccess)==null?void 0:w.call(y,D,t,this.state.context,this)),await((c=(f=this.options).onSuccess)==null?void 0:c.call(f,D,t,this.state.context)),await((d=(O=r(this,I).config).onSettled)==null?void 0:d.call(O,D,null,this.state.variables,this.state.context,this)),await((m=(Q=this.options).onSettled)==null?void 0:m.call(Q,D,null,t,this.state.context)),p(this,V,Z).call(this,{type:"success",data:D}),D}catch(D){try{throw await((F=(g=r(this,I).config).onError)==null?void 0:F.call(g,D,t,this.state.context,this)),await((P=(E=this.options).onError)==null?void 0:P.call(E,D,t,this.state.context)),await((K=(A=r(this,I).config).onSettled)==null?void 0:K.call(A,void 0,D,this.state.variables,this.state.context,this)),await((q=(H=this.options).onSettled)==null?void 0:q.call(H,void 0,D,t,this.state.context)),D}finally{p(this,V,Z).call(this,{type:"error",error:D})}}finally{r(this,I).runNext(this)}}},B=new WeakMap,I=new WeakMap,dt=new WeakMap,V=new WeakSet,Z=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),M.batch(()=>{r(this,B).forEach(i=>{i.onMutationUpdate(t)}),r(this,I).notify({mutation:this,type:"updated",action:t})})},Ae);function Ye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Y,N,kt,Ue,Je=(Ue=class extends Tt{constructor(e={}){super();l(this,Y);l(this,N);l(this,kt);this.config=e,h(this,Y,new Set),h(this,N,new Map),h(this,kt,0)}build(e,i,n){const a=new ms({mutationCache:this,mutationId:++Gt(this,kt)._,options:e.defaultMutationOptions(i),state:n});return this.add(a),a}add(e){r(this,Y).add(e);const i=$t(e);if(typeof i=="string"){const n=r(this,N).get(i);n?n.push(e):r(this,N).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(r(this,Y).delete(e)){const i=$t(e);if(typeof i=="string"){const n=r(this,N).get(i);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&r(this,N).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=$t(e);if(typeof i=="string"){const n=r(this,N).get(i),a=n==null?void 0:n.find(u=>u.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const i=$t(e);if(typeof i=="string"){const a=(n=r(this,N).get(i))==null?void 0:n.find(u=>u!==e&&u.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){M.batch(()=>{r(this,Y).forEach(e=>{this.notify({type:"removed",mutation:e})}),r(this,Y).clear(),r(this,N).clear()})}getAll(){return Array.from(r(this,Y))}find(e){const i={exact:!0,...e};return this.getAll().find(n=>ge(i,n))}findAll(e={}){return this.getAll().filter(i=>ge(e,i))}notify(e){M.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return M.batch(()=>Promise.all(e.map(i=>i.continue().catch(k))))}},Y=new WeakMap,N=new WeakMap,kt=new WeakMap,Ue);function $t(s){var t;return(t=s.options.scope)==null?void 0:t.id}function we(s){return{onFetch:(t,e)=>{var f,c,O,d,Q;const i=t.options,n=(O=(c=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:c.fetchMore)==null?void 0:O.direction,a=((d=t.state.data)==null?void 0:d.pages)||[],u=((Q=t.state.data)==null?void 0:Q.pageParams)||[];let o={pages:[],pageParams:[]},y=0;const w=async()=>{let m=!1;const g=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},F=Ne(t.options,t.fetchOptions),E=async(P,A,K)=>{if(m)return Promise.reject();if(A==null&&P.pages.length)return Promise.resolve(P);const H={client:t.client,queryKey:t.queryKey,pageParam:A,direction:K?"backward":"forward",meta:t.options.meta};g(H);const q=await F(H),{maxPages:D}=t.options,S=K?hs:os;return{pages:S(P.pages,q,D),pageParams:S(P.pageParams,A,D)}};if(n&&a.length){const P=n==="backward",A=P?vs:Qe,K={pages:a,pageParams:u},H=A(i,K);o=await E(K,H,P)}else{const P=s??a.length;do{const A=y===0?u[0]??i.initialPageParam:Qe(i,o);if(y>0&&A==null)break;o=await E(o,A),y++}while(y<P)}return o};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,w,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=w}}}function Qe(s,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?s.getNextPageParam(t[i],t,e[i],e):void 0}function vs(s,{pages:t,pageParams:e}){var i;return t.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,t[0],t,e[0],e):void 0}var R,st,it,Dt,Et,rt,Mt,At,qe,bs=(qe=class{constructor(t={}){l(this,R);l(this,st);l(this,it);l(this,Dt);l(this,Et);l(this,rt);l(this,Mt);l(this,At);h(this,R,t.queryCache||new We),h(this,st,t.mutationCache||new Je),h(this,it,t.defaultOptions||{}),h(this,Dt,new Map),h(this,Et,new Map),h(this,rt,0)}mount(){Gt(this,rt)._++,r(this,rt)===1&&(h(this,Mt,pe.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,R).onFocus())})),h(this,At,zt.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,R).onOnline())})))}unmount(){var t,e;Gt(this,rt)._--,r(this,rt)===0&&((t=r(this,Mt))==null||t.call(this),h(this,Mt,void 0),(e=r(this,At))==null||e.call(this),h(this,At,void 0))}isFetching(t){return r(this,R).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,st).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,R).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),i=r(this,R).build(this,e),n=i.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(wt(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return r(this,R).findAll(t).map(({queryKey:e,state:i})=>{const n=i.data;return[e,n]})}setQueryData(t,e,i){const n=this.defaultQueryOptions({queryKey:t}),a=r(this,R).get(n.queryHash),u=a==null?void 0:a.state.data,o=as(e,u);if(o!==void 0)return r(this,R).build(this,n).setData(o,{...i,manual:!0})}setQueriesData(t,e,i){return M.batch(()=>r(this,R).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,R).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=r(this,R);M.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=r(this,R),n={type:"active",...t};return M.batch(()=>(i.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const i={revert:!0,...e},n=M.batch(()=>r(this,R).findAll(t).map(a=>a.cancel(i)));return Promise.all(n).then(k).catch(k)}invalidateQueries(t,e={}){return M.batch(()=>{if(r(this,R).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const i={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(i,e)})}refetchQueries(t,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},n=M.batch(()=>r(this,R).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let u=a.fetch(void 0,i);return i.throwOnError||(u=u.catch(k)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(n).then(k)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=r(this,R).build(this,e);return i.isStaleByTime(wt(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(k).catch(k)}fetchInfiniteQuery(t){return t.behavior=we(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(k).catch(k)}ensureInfiniteQueryData(t){return t.behavior=we(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zt.isOnline()?r(this,st).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,R)}getMutationCache(){return r(this,st)}getDefaultOptions(){return r(this,it)}setDefaultOptions(t){h(this,it,t)}setQueryDefaults(t,e){r(this,Dt).set(bt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,Dt).values()],i={};return e.forEach(n=>{Kt(t,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(t,e){r(this,Et).set(bt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,Et).values()];let i={};return e.forEach(n=>{Kt(t,n.mutationKey)&&(i={...i,...n.defaultOptions})}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,it).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=de(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ye&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,it).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,R).clear(),r(this,st).clear()}},R=new WeakMap,st=new WeakMap,it=new WeakMap,Dt=new WeakMap,Et=new WeakMap,rt=new WeakMap,Mt=new WeakMap,At=new WeakMap,qe),T,b,Ht,j,yt,Ut,nt,z,_t,qt,It,pt,mt,at,jt,C,xt,ee,se,ie,re,ne,ae,ue,Xe,Ie,gs=(Ie=class extends Tt{constructor(t,e){super();l(this,C);l(this,T);l(this,b);l(this,Ht);l(this,j);l(this,yt);l(this,Ut);l(this,nt);l(this,z);l(this,_t);l(this,qt);l(this,It);l(this,pt);l(this,mt);l(this,at);l(this,jt,new Set);this.options=e,h(this,T,t),h(this,z,null),h(this,nt,te()),this.options.experimental_prefetchInRender||r(this,nt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,b).addObserver(this),Se(r(this,b),this.options)?p(this,C,xt).call(this):this.updateResult(),p(this,C,re).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oe(r(this,b),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oe(r(this,b),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,p(this,C,ne).call(this),p(this,C,ae).call(this),r(this,b).removeObserver(this)}setOptions(t,e){const i=this.options,n=r(this,b);if(this.options=r(this,T).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof G(this.options.enabled,r(this,b))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");p(this,C,ue).call(this),r(this,b).setOptions(this.options),i._defaulted&&!Vt(this.options,i)&&r(this,T).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,b),observer:this});const a=this.hasListeners();a&&Pe(r(this,b),n,this.options,i)&&p(this,C,xt).call(this),this.updateResult(e),a&&(r(this,b)!==n||G(this.options.enabled,r(this,b))!==G(i.enabled,r(this,b))||wt(this.options.staleTime,r(this,b))!==wt(i.staleTime,r(this,b)))&&p(this,C,ee).call(this);const u=p(this,C,se).call(this);a&&(r(this,b)!==n||G(this.options.enabled,r(this,b))!==G(i.enabled,r(this,b))||u!==r(this,at))&&p(this,C,ie).call(this,u)}getOptimisticResult(t){const e=r(this,T).getQueryCache().build(r(this,T),t),i=this.createResult(e,t);return Cs(this,i)&&(h(this,j,i),h(this,Ut,this.options),h(this,yt,r(this,b).state)),i}getCurrentResult(){return r(this,j)}trackResult(t,e){const i={};return Object.keys(t).forEach(n=>{Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e==null||e(n),t[n])})}),i}trackProp(t){r(this,jt).add(t)}getCurrentQuery(){return r(this,b)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=r(this,T).defaultQueryOptions(t),i=r(this,T).getQueryCache().build(r(this,T),e);return i.fetch().then(()=>this.createResult(i,e))}fetch(t){return p(this,C,xt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,j)))}createResult(t,e){var D;const i=r(this,b),n=this.options,a=r(this,j),u=r(this,yt),o=r(this,Ut),w=t!==i?t.state:r(this,Ht),{state:f}=t;let c={...f},O=!1,d;if(e._optimisticResults){const S=this.hasListeners(),gt=!S&&Se(t,e),Ot=S&&Pe(t,i,e,n);(gt||Ot)&&(c={...c,...ze(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:Q,errorUpdatedAt:m,status:g}=c;if(e.select&&c.data!==void 0)if(a&&c.data===(u==null?void 0:u.data)&&e.select===r(this,_t))d=r(this,qt);else try{h(this,_t,e.select),d=e.select(c.data),d=Zt(a==null?void 0:a.data,d,e),h(this,qt,d),h(this,z,null)}catch(S){h(this,z,S)}else d=c.data;if(e.placeholderData!==void 0&&d===void 0&&g==="pending"){let S;if(a!=null&&a.isPlaceholderData&&e.placeholderData===(o==null?void 0:o.placeholderData))S=a.data;else if(S=typeof e.placeholderData=="function"?e.placeholderData((D=r(this,It))==null?void 0:D.state.data,r(this,It)):e.placeholderData,e.select&&S!==void 0)try{S=e.select(S),h(this,z,null)}catch(gt){h(this,z,gt)}S!==void 0&&(g="success",d=Zt(a==null?void 0:a.data,S,e),O=!0)}r(this,z)&&(Q=r(this,z),d=r(this,qt),m=Date.now(),g="error");const F=c.fetchStatus==="fetching",E=g==="pending",P=g==="error",A=E&&F,K=d!==void 0,q={status:g,fetchStatus:c.fetchStatus,isPending:E,isSuccess:g==="success",isError:P,isInitialLoading:A,isLoading:A,data:d,dataUpdatedAt:c.dataUpdatedAt,error:Q,errorUpdatedAt:m,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>w.dataUpdateCount||c.errorUpdateCount>w.errorUpdateCount,isFetching:F,isRefetching:F&&!E,isLoadingError:P&&!K,isPaused:c.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:P&&K,isStale:me(t,e),refetch:this.refetch,promise:r(this,nt)};if(this.options.experimental_prefetchInRender){const S=Nt=>{q.status==="error"?Nt.reject(q.error):q.data!==void 0&&Nt.resolve(q.data)},gt=()=>{const Nt=h(this,nt,q.promise=te());S(Nt)},Ot=r(this,nt);switch(Ot.status){case"pending":t.queryHash===i.queryHash&&S(Ot);break;case"fulfilled":(q.status==="error"||q.data!==Ot.value)&&gt();break;case"rejected":(q.status!=="error"||q.error!==Ot.reason)&&gt();break}}return q}updateResult(t){const e=r(this,j),i=this.createResult(r(this,b),this.options);if(h(this,yt,r(this,b).state),h(this,Ut,this.options),r(this,yt).data!==void 0&&h(this,It,r(this,b)),Vt(i,e))return;h(this,j,i);const n={},a=()=>{if(!e)return!0;const{notifyOnChangeProps:u}=this.options,o=typeof u=="function"?u():u;if(o==="all"||!o&&!r(this,jt).size)return!0;const y=new Set(o??r(this,jt));return this.options.throwOnError&&y.add("error"),Object.keys(r(this,j)).some(w=>{const f=w;return r(this,j)[f]!==e[f]&&y.has(f)})};(t==null?void 0:t.listeners)!==!1&&a()&&(n.listeners=!0),p(this,C,Xe).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&p(this,C,re).call(this)}},T=new WeakMap,b=new WeakMap,Ht=new WeakMap,j=new WeakMap,yt=new WeakMap,Ut=new WeakMap,nt=new WeakMap,z=new WeakMap,_t=new WeakMap,qt=new WeakMap,It=new WeakMap,pt=new WeakMap,mt=new WeakMap,at=new WeakMap,jt=new WeakMap,C=new WeakSet,xt=function(t){p(this,C,ue).call(this);let e=r(this,b).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(k)),e},ee=function(){p(this,C,ne).call(this);const t=wt(this.options.staleTime,r(this,b));if(vt||r(this,j).isStale||!Jt(t))return;const i=He(r(this,j).dataUpdatedAt,t)+1;h(this,pt,setTimeout(()=>{r(this,j).isStale||this.updateResult()},i))},se=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,b)):this.options.refetchInterval)??!1},ie=function(t){p(this,C,ae).call(this),h(this,at,t),!(vt||G(this.options.enabled,r(this,b))===!1||!Jt(r(this,at))||r(this,at)===0)&&h(this,mt,setInterval(()=>{(this.options.refetchIntervalInBackground||pe.isFocused())&&p(this,C,xt).call(this)},r(this,at)))},re=function(){p(this,C,ee).call(this),p(this,C,ie).call(this,p(this,C,se).call(this))},ne=function(){r(this,pt)&&(clearTimeout(r(this,pt)),h(this,pt,void 0))},ae=function(){r(this,mt)&&(clearInterval(r(this,mt)),h(this,mt,void 0))},ue=function(){const t=r(this,T).getQueryCache().build(r(this,T),this.options);if(t===r(this,b))return;const e=r(this,b);h(this,b,t),h(this,Ht,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Xe=function(t){M.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(r(this,j))}),r(this,T).getQueryCache().notify({query:r(this,b),type:"observerResultsUpdated"})})},Ie);function Os(s,t){return G(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Se(s,t){return Os(s,t)||s.state.data!==void 0&&oe(s,t,t.refetchOnMount)}function oe(s,t,e){if(G(t.enabled,s)!==!1){const i=typeof e=="function"?e(s):e;return i==="always"||i!==!1&&me(s,t)}return!1}function Pe(s,t,e,i){return(s!==t||G(i.enabled,s)===!1)&&(!e.suspense||s.state.status!=="error")&&me(s,e)}function me(s,t){return G(t.enabled,s)!==!1&&s.isStaleByTime(wt(t.staleTime,s))}function Cs(s,t){return!Vt(s.getCurrentResult(),t)}var ut,ot,x,J,X,Bt,he,je,ws=(je=class extends Tt{constructor(t,e){super();l(this,X);l(this,ut);l(this,ot);l(this,x);l(this,J);h(this,ut,t),this.setOptions(e),this.bindMethods(),p(this,X,Bt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const e=this.options;this.options=r(this,ut).defaultMutationOptions(t),Vt(this.options,e)||r(this,ut).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,x),observer:this}),e!=null&&e.mutationKey&&this.options.mutationKey&&bt(e.mutationKey)!==bt(this.options.mutationKey)?this.reset():((i=r(this,x))==null?void 0:i.state.status)==="pending"&&r(this,x).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,x))==null||t.removeObserver(this)}onMutationUpdate(t){p(this,X,Bt).call(this),p(this,X,he).call(this,t)}getCurrentResult(){return r(this,ot)}reset(){var t;(t=r(this,x))==null||t.removeObserver(this),h(this,x,void 0),p(this,X,Bt).call(this),p(this,X,he).call(this)}mutate(t,e){var i;return h(this,J,e),(i=r(this,x))==null||i.removeObserver(this),h(this,x,r(this,ut).getMutationCache().build(r(this,ut),this.options)),r(this,x).addObserver(this),r(this,x).execute(t)}},ut=new WeakMap,ot=new WeakMap,x=new WeakMap,J=new WeakMap,X=new WeakSet,Bt=function(){var e;const t=((e=r(this,x))==null?void 0:e.state)??Ye();h(this,ot,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},he=function(t){M.batch(()=>{var e,i,n,a,u,o,y,w;if(r(this,J)&&this.hasListeners()){const f=r(this,ot).variables,c=r(this,ot).context;(t==null?void 0:t.type)==="success"?((i=(e=r(this,J)).onSuccess)==null||i.call(e,t.data,f,c),(a=(n=r(this,J)).onSettled)==null||a.call(n,t.data,null,f,c)):(t==null?void 0:t.type)==="error"&&((o=(u=r(this,J)).onError)==null||o.call(u,t.error,f,c),(w=(y=r(this,J)).onSettled)==null||w.call(y,void 0,t.error,f,c))}this.listeners.forEach(f=>{f(r(this,ot))})})},je),Qs="VUE_QUERY_CLIENT";function Ze(s){const t=s?`:${s}`:"";return`${Qs}${t}`}function ce(s,t){Object.keys(s).forEach(e=>{s[e]=t[e]})}function le(s,t,e="",i=0){if(t){const n=t(s,e,i);if(n===void 0&&Te(s)||n!==void 0)return n}if(Array.isArray(s))return s.map((n,a)=>le(n,t,String(a),i+1));if(typeof s=="object"&&Ps(s)){const n=Object.entries(s).map(([a,u])=>[a,le(u,t,a,i+1)]);return Object.fromEntries(n)}return s}function Ss(s,t){return le(s,t)}function v(s,t=!1){return Ss(s,(e,i,n)=>{if(n===1&&i==="queryKey")return v(e,!0);if(t&&Rs(e))return v(e(),t);if(Te(e))return v(es(e),t)})}function Ps(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;const t=Object.getPrototypeOf(s);return t===null||t===Object.prototype}function Rs(s){return typeof s=="function"}function fe(s,t){return typeof s=="function"?s(...t):!!s}function ts(s=""){if(!ss())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=Ze(s),e=is(t);if(!e)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return e}var Fs=class extends We{find(s){return super.find(v(s))}findAll(s={}){return super.findAll(v(s))}},Ds=class extends Je{find(s){return super.find(v(s))}findAll(s={}){return super.findAll(v(s))}},Es=class extends bs{constructor(s={}){const t={defaultOptions:s.defaultOptions,queryCache:s.queryCache||new Fs,mutationCache:s.mutationCache||new Ds};super(t),this.isRestoring=rs(!1)}isFetching(s={}){return super.isFetching(v(s))}isMutating(s={}){return super.isMutating(v(s))}getQueryData(s){return super.getQueryData(v(s))}ensureQueryData(s){return super.ensureQueryData(v(s))}getQueriesData(s){return super.getQueriesData(v(s))}setQueryData(s,t,e={}){return super.setQueryData(v(s),t,v(e))}setQueriesData(s,t,e={}){return super.setQueriesData(v(s),t,v(e))}getQueryState(s){return super.getQueryState(v(s))}removeQueries(s={}){return super.removeQueries(v(s))}resetQueries(s={},t={}){return super.resetQueries(v(s),v(t))}cancelQueries(s={},t={}){return super.cancelQueries(v(s),v(t))}invalidateQueries(s={},t={}){const e=v(s),i=v(t);if(super.invalidateQueries({...e,refetchType:"none"},i),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return ns().then(()=>super.refetchQueries(n,i))}refetchQueries(s={},t={}){return super.refetchQueries(v(s),v(t))}fetchQuery(s){return super.fetchQuery(v(s))}prefetchQuery(s){return super.prefetchQuery(v(s))}fetchInfiniteQuery(s){return super.fetchInfiniteQuery(v(s))}prefetchInfiniteQuery(s){return super.prefetchInfiniteQuery(v(s))}setDefaultOptions(s){super.setDefaultOptions(v(s))}setQueryDefaults(s,t){super.setQueryDefaults(v(s),v(t))}getQueryDefaults(s){return super.getQueryDefaults(v(s))}setMutationDefaults(s,t){super.setMutationDefaults(v(s),v(t))}getMutationDefaults(s){return super.getMutationDefaults(v(s))}},Ts={install:(s,t={})=>{const e=Ze(t.queryClientKey);let i;if("queryClient"in t&&t.queryClient)i=t.queryClient;else{const u="queryClientConfig"in t?t.queryClientConfig:void 0;i=new Es(u)}vt||i.mount();let n=()=>{};if(t.clientPersister){i.isRestoring.value=!0;const[u,o]=t.clientPersister(i);n=u,o.then(()=>{var y;i.isRestoring.value=!1,(y=t.clientPersisterOnSuccess)==null||y.call(t,i)})}const a=()=>{i.unmount(),n()};if(s.onUnmount)s.onUnmount(a);else{const u=s.unmount;s.unmount=function(){a(),u()}}s.provide(e,i)}};function Ms(s,t,e){const i=ts(),n=xe(()=>{const d=v(t);typeof d.enabled=="function"&&(d.enabled=d.enabled());const Q=i.defaultQueryOptions(d);return Q._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",Q}),a=new s(i,n.value),u=Ke(a.getCurrentResult());let o=()=>{};Ct(i.isRestoring,d=>{d||(o(),o=a.subscribe(Q=>{ce(u,Q)}))},{immediate:!0});const y=()=>{a.setOptions(n.value),ce(u,a.getCurrentResult())};Ct(n,y),Le(()=>{o()});const w=(...d)=>(y(),u.refetch(...d)),f=()=>new Promise((d,Q)=>{let m=()=>{};const g=()=>{if(n.value.enabled!==!1){a.setOptions(n.value);const F=a.getOptimisticResult(n.value);F.isStale?(m(),a.fetchOptimistic(n.value).then(d,E=>{fe(n.value.throwOnError,[E,a.getCurrentQuery()])?Q(E):d(a.getCurrentResult())})):(m(),d(F))}};g(),m=Ct(n,g)});Ct(()=>u.error,d=>{if(u.isError&&!u.isFetching&&fe(n.value.throwOnError,[d,a.getCurrentQuery()]))throw d});const O=ke(u);for(const d in u)typeof u[d]=="function"&&(O[d]=u[d]);return O.suspense=f,O.refetch=w,O}function xs(s,t){return Ms(gs,s)}function Ks(s,t){const e=ts(),i=xe(()=>e.defaultMutationOptions(v(s))),n=new ws(e,i.value),a=Ke(n.getCurrentResult()),u=n.subscribe(f=>{ce(a,f)}),o=(f,c)=>{n.mutate(f,c).catch(()=>{})};Ct(i,()=>{n.setOptions(i.value)}),Le(()=>{u()});const w=ke(a);return Ct(()=>a.error,f=>{if(f&&fe(i.value.throwOnError,[f]))throw f}),{...w,mutate:o,mutateAsync:a.mutate,reset:a.reset}}export{Es as Q,Ts as V,Ks as a,xs as u};
